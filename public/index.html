<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>INDICADORES</title>
		<script src="https://www.gstatic.com/firebasejs/3.7.3/firebase.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	    <script src="assets/bootstrap.min.js"></script>
	    <style>
			@import url(http://fonts.googleapis.com/css?family=Open+Sans:400,700);
				body {
				  background: #c0cdda;
				  font-family: 'Open Sans', sans-serif;
				}
				.login {
				  width: 400px;
				  margin: 16px auto;
				  font-size: 16px;
				}
				/* Reset top and bottom margins from certain elements */
				.login-header,
				.login p {
				  margin-top: 0;
				  margin-bottom: 0;
				}
				/* The triangle form is achieved by a CSS hack */
				.login-triangle {
				  width: 0;
				  margin-right: auto;
				  margin-left: auto;
				  border: 12px solid transparent;
				  border-bottom-color: #28d;
				}
				.login-header {
				  background: #28d;
				  padding: 20px;
				  font-size: 1.4em;
				  font-weight: normal;
				  text-align: center;
				  text-transform: uppercase;
				  color: #fff;
				}
				.login-container {
				  background: #ebebeb;
				  padding: 12px;
				}
				/* Every row inside .login-container is defined with p tags */
				.login p {
				  padding: 12px;
				}
				.login input,button {
				  box-sizing: border-box;
				  display: block;
				  width: 100%;
				  border-width: 1px;
				  border-style: solid;
				  padding: 16px;
				  outline: 0;
				  font-family: inherit;
				  font-size: 0.95em;
				}
				.login input[type="email"],
				.login input[type="password"] {
				  background: #fff;
				  border-color: #bbb;
				  color: #555;
				}
				/* Text fields' focus effect */
				.login input[type="email"]:focus,
				.login input[type="password"]:focus {
				  border-color: #888;
				}
				.login button {
				  background: #28d;
				  border-color: transparent;
				  color: #fff;
				  cursor: pointer;
				}
				.login input[type="submit"]:hover {
				  background: #17c;
				}
				/* Buttons' focus effect */
				.login input[type="submit"]:focus {
				  border-color: #05a;
				}
				img{
					margin-bottom:30px;
					margin-left:0;
				}
	    </style>
		<script>
		var config = {
			apiKey: "AIzaSyBGYteMTFmS9jDgm6-4e73_wCMsWW-6kmU",
	    authDomain: "inquid-erp.firebaseapp.com",
	    databaseURL: "https://inquid-erp.firebaseio.com",
	    projectId: "inquid-erp",
	    storageBucket: "inquid-erp.appspot.com",
	    messagingSenderId: "566151398360"
        };
        firebase.initializeApp(config);

			function login(){
				var email=$('#email').val();
				var password=$('#pass').val();
				 firebase.auth().signInWithEmailAndPassword(email,password)
                        .then((data) => {

                               console.log("success==>"+data);
                                window.location.href='main.html';


                        })
                        .catch((error) => {
                            var errorCode = error.code;
                            var errorMessage = error.message;
                            console.log("error===>"+error);
							alert(errorMessage);
                        });

			}
			function register(){
				 firebaseApp.auth().createUserWithEmailAndPassword(password)
                        .then((data) => {

                                var userId=firebaseApp.auth().currentUser.uid
                                if(username!==''&& Country!==''){
                                 firebase.database().ref('users').set({
											username: this.state.username,
											mobile: this.state.PhoneNumber,
											country: this.state.Country,
											sex:this.state.Sex,
											city:this.state.City,
											job:this.state.Job
                            });

                                }else{alert('Insert everyfield!!')}

                        })
                        .catch((error) => {
                            var errorCode = error.code;
                            var errorMessage = error.message;
                            if (this.props.onLoginError) {
                                this.props.onLoginError(error.code, error.message)
                            }
                            alert(errorMessage);
                        });
			}

		</script>
	</head>
    <body>

		<div class="login">
				<img src="img/logo.png" width=100% height="100%"/>
			  <div class="login-triangle">

			  </div>

			  <h2 class="login-header">Log in</h2>

			  <div class="login-container">
				<p><input type="email" placeholder="Email" id="email"></p>
				<p><input type="password" placeholder="Password" id="pass"></p>
				<p><button  onclick='login()'>Log in</button></p>
			  </div>
		</div>
	</body>
  </html>
